# Validation UX (Frontend)

این سند تفاوت اعتبارسنجی سمت کاربر و سرور را شرح می‌دهد.

## اعتبارسنجی کلاینت

- در خط زمان، قبل از ارسال PATCH ظرفیت سالن محاسبه می‌شود (براساس دادهٔ فیلتر شدهٔ فعلی).
- اگر ظرفیت پیشنهادی از ظرفیت سالن بیشتر باشد، بنر هشدار و گفت‌وگوی تأیید نمایش داده می‌شود.
- فرم‌های RHF همچنان مقداردهی اولیه و trimming فیلدها را انجام می‌دهند.

## اعتبارسنجی سرور

- پس از ارسال درخواست، پیام‌های خطا با `resolveErrorContent` به توست فارسی تبدیل می‌شوند.
- کدهای `CAPACITY_OVERFLOW`، `ALLOCATION_OVERLAP`، `BLACKOUT_CONFLICT` و `ROOM_LOCKED` در `fa.json` نگاشت شده‌اند.
- توضیح هر کد شامل ارجاع به این سند یا راهنمای DnD است تا کاربر مسیر رفع مشکل را بداند.

## الگوهای UX

- هشدارها همیشه قبل از ارسال نمایش داده می‌شوند؛ خطاهای سرور پس از پاسخ نمایش داده می‌شوند.
- برای جلوگیری از از دست رفتن داده، بروزرسانی‌ها optimistically روی جدول اعمال نمی‌شوند تا وضعیت واقعی سرور نمایش داده شود.
- توست موفقیت تنها پس از پاسخ موفق نمایش داده می‌شود.
